<div class="contact-form text-center container">
  <mat-card class="form-card">
    <h3>Recuperar Contraseña</h3>
    <form [formGroup]="resetPasswordForm" (ngSubmit)="resetPass()">

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" required>
          <mat-error *ngIf="resetPasswordForm.get('email')?.hasError('required')">El email es obligatorio</mat-error>
          <mat-error *ngIf="resetPasswordForm.get('email')?.hasError('email')">Email inválido</mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="newPass"
            required
          >
          <button mat-icon-button matSuffix (click)="toggleShowPassword()" type="button">
            <mat-icon>{{ showPassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="resetPasswordForm.get('newPass')?.hasError('required')">La contraseña es obligatoria</mat-error>
          <mat-error *ngIf="resetPasswordForm.get('newPass')?.hasError('minlength')">Mínimo 8 caracteres</mat-error>
        </mat-form-field>
      </div>

      <div class="form-group">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Repetir Contraseña</mat-label>
          <input
            matInput
            [type]="showPassword2 ? 'text' : 'password'"
            formControlName="newPass2"
            required
          >
          <button mat-icon-button matSuffix (click)="toggleShowPassword2()" type="button">
            <mat-icon>{{ showPassword2 ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="resetPasswordForm.hasError('mustMatch', ['newPass2'])">Las contraseñas no coinciden</mat-error>
        </mat-form-field>
      </div>

      <div class="form-actions mt-3">
        <button mat-raised-button color="primary" type="submit" [disabled]="resetPasswordForm.invalid">Recuperar</button>
        <button mat-raised-button color="warn" type="button" routerLink="/">Cancelar</button>
      </div>
    </form>
  </mat-card>
</div>
